{% extends 'base.html.twig' %}

{% block title %}Тест!{% endblock %}

{% block body %}
<div class="example-wrapper">
    <h1>Тест!</h1>
    {% if form is not defined %}
        <h2>Тест отсутствует!</h2>
    {% else %}
        {{ form_start(form) }}
        <h2>{{ form.vars.value.quiz.name }}</h2>
        {% for question in mathTest.quiz.questions %}
            <h3>{{ question.content }}</h3>
            {% for questionAnswer in question.questionAnswers %}
                {% for resuilItemForm in form.resultItems %}
                    {% if questionAnswer.id == resuilItemForm.vars.data.questionAnswer.id %}
                        {{ form_row(resuilItemForm.id) }}
                    {% endif %}
                {% endfor %}
            {% endfor %}
            {# {{ form_row(resuilItemForm.id) }} #}
        {% endfor %}

        {# {% for resuilItemForm in form.resultItems %}
            {{ form_row(resuilItemForm.id) }}
        {% endfor %} #}
        {# {% for questionForm in form.quiz.questions %}
            <h2>{{ questionForm.vars.data.content }}</h2>
            {% for questionAnswerForm in questionForm.questionAnswer %}
                {% for resultItemForm in questionAnswerForm.resultItems %}
                    {{ form_row(resultItemForm.id) }}
                {% endfor %}
            {% endfor %}
        {% endfor %} #}


{# {% for questionForm in form.quiz.questions %}
    <h2>{{ questionForm.vars.data.content }}</h2>
{% endfor %} #}
        {# <input type="hidden" id="result_quiz" name="result[quiz]" value="{{ mathTest.quiz.id }}">

        {% for question in mathTest.quiz.questions %}
            <h2>{{ question.content }}</h2>
            {% for questionAnswer in question.questionAnswers %}
                <input type="checkbox" id="{{ questionAnswer.id }}" name="result_result_item[cheked][]" value="{{ questionAnswer.id }}">
                <label for="{{ questionAnswer.id }}">{{ questionAnswer.answer.content }}</label><br>
            {% endfor %}
        {% endfor %}

        <button type="submit">Отправить</button> #}
        {{ form_end(form) }}
    {% endif %}
</div>
{% endblock %}
